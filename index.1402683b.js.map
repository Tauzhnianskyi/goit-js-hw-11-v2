{"mappings":"AAAA,MAEMA,EAAUC,+GAIVC,EAAOC,SAASC,eAAe,QAC/BC,EAAOF,SAASG,cAAc,QAC9BC,EAASJ,SAASC,eAAe,UACrBD,SAASG,cAAc,cAKzC,SAASE,EAAUC,GACjBC,MAAMD,GACHE,MAAKC,GAAQA,EAAKC,SAClBF,MAAKG,KAKV,SAAoBA,GAClBZ,EAAKa,UAAY,GAEjBD,EAAKE,SAAQC,IACX,MAAMC,MAAEA,EAAKC,cAAEA,EAAaC,aAAEA,GAAiBH,EACzCI,EAAUlB,SAASmB,cAAc,OAc3C,IAAkBC,EAbdF,EAAQG,UAAUC,IAAI,SACtBJ,EAAQN,UAAY,mBA1BR,kCA2BUI,WAAuBD,4FAEbA,kCASlBK,EARgBH,EAS5BG,GAAQ,EACH,QACEA,GAAQ,GAAKA,EAAO,EACtB,SAEA,UAdyCH,yCAIhDlB,EAAKwB,YAAYL,MAnBfM,CAAWb,EAAKc,YARtBC,QAAQC,IAAIvB,EAAOwB,OAEnBvB,EAAUR,GAuCVK,EAAK2B,iBAAiB,UAAUC,IAC9BA,EAAEC,iBAEF,MAAMC,EAAa5B,EAAOwB,MAC1BF,QAAQC,IAAIK,GAGV3B,EADE2B,EACQC,8FAAwBD,EAExBnC","sources":["src/index.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=14f00e78a1ac618254d40a79e60e9f37';\nconst API_URL = BASE_URL + '/discover/movie?sort_by=popularity.desc&' + API_KEY;\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\nconst searchURL = BASE_URL + '/search/keyword?' + API_KEY;\n\nconst main = document.getElementById('main');\nconst form = document.querySelector('form');\nconst search = document.getElementById('search');\nconst searchBtn = document.querySelector('.searchBtn');\nconsole.log(search.value);\n\ngetMovies(API_URL);\n\nfunction getMovies(url) {\n  fetch(url)\n    .then(resp => resp.json())\n    .then(data => {\n      showMovies(data.results);\n    });\n}\n\nfunction showMovies(data) {\n  main.innerHTML = '';\n\n  data.forEach(movie => {\n    const { title, backdrop_path, vote_average } = movie; \n    const movieEl = document.createElement('div');\n    movieEl.classList.add('movie');\n    movieEl.innerHTML = `\n    <img src=\"${IMG_URL + backdrop_path}\" alt=\"${title}\" width=\"100px\" />\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${title}</h3>\n          <span class=\"${getColor(vote_average)}\">${vote_average}</span>\n          </div>\n    \n    `;\n    main.appendChild(movieEl);\n  });\n}\n\nfunction getColor(vote) {\n  if (vote >= 8) {\n    return 'green';\n  } else if (vote >= 5 && vote < 8) {\n    return 'orange';\n  } else {\n    return 'red';\n  }\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchTerm = search.value;\n  console.log(searchTerm);\n\n  if (searchTerm) {\n    getMovies(searchURL + '&query=' + searchTerm);\n  } else {\n    getMovies(API_URL);\n  }\n});\n"],"names":["$1f0dc3b9307be026$var$API_URL","$1f0dc3b9307be026$var$BASE_URL","$1f0dc3b9307be026$var$main","document","getElementById","$1f0dc3b9307be026$var$form","querySelector","$1f0dc3b9307be026$var$search","$1f0dc3b9307be026$var$getMovies","url","fetch","then","resp","json","data","innerHTML","forEach","movie","title","backdrop_path","vote_average","movieEl","createElement","vote","classList","add","appendChild","$1f0dc3b9307be026$var$showMovies","results","console","log","value","addEventListener","e","preventDefault","searchTerm","$1f0dc3b9307be026$var$searchURL"],"version":3,"file":"index.1402683b.js.map"}