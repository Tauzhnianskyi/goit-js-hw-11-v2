{"mappings":"YAAA,IACMA,EAAU,2CACVC,EAAUC,uEAAwDF,EAClEG,EAAU,kCAGVC,EAAOC,SAASC,eAAe,QAC/BC,EAAOF,SAASG,cAAc,QAC9BC,EAASJ,SAASC,eAAe,UACrBD,SAASG,cAAc,cAKzC,SAASE,EAAUC,GACjBC,MAAMD,GACHE,MAAK,SAAAC,G,OAAQA,EAAKC,UAClBF,MAAK,SAAAG,IAKV,SAAoBA,GAClBZ,EAAKa,UAAY,GAEjBD,EAAKE,SAAQ,SAAAC,GACX,IAecC,EAfNC,EAAuCF,EAAvCE,MAAOC,EAAgCH,EAAhCG,cAAeC,EAAiBJ,EAAjBI,aACxBC,EAAUnB,SAASoB,cAAc,OACvCD,EAAQE,UAAUC,IAAI,SACtBH,EAAQP,UAAY,mBACyBW,OAAjCzB,EAAUmB,EAAc,WAEJM,OAFaP,EAAM,4FAG9BO,OADWP,EAAM,kCACUO,QAQlCR,EARgBG,EAS5BH,GAAQ,EACH,QACEA,GAAQ,GAAKA,EAAO,EACtB,SAEA,OAdqC,MAAiBQ,OAAbL,EAAa,yCAI7DnB,EAAKyB,YAAYL,MAnBfM,CAAWd,EAAKe,YARtBC,QAAQC,IAAIxB,EAAOyB,OAEnBxB,EAAUT,GAuCVM,EAAK4B,iBAAiB,UAAU,SAAAC,GAC9BA,EAAEC,iBAEF,IAAMC,EAAa7B,EAAOyB,MAC1BF,QAAQC,IAAIK,GAGV5B,EADE4B,EACQC,8FAAwBD,EAExBrC,M","sources":["src/index.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=14f00e78a1ac618254d40a79e60e9f37';\nconst API_URL = BASE_URL + '/discover/movie?sort_by=popularity.desc&' + API_KEY;\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\nconst searchURL = BASE_URL + '/search/keyword?' + API_KEY;\n\nconst main = document.getElementById('main');\nconst form = document.querySelector('form');\nconst search = document.getElementById('search');\nconst searchBtn = document.querySelector('.searchBtn');\nconsole.log(search.value);\n\ngetMovies(API_URL);\n\nfunction getMovies(url) {\n  fetch(url)\n    .then(resp => resp.json())\n    .then(data => {\n      showMovies(data.results);\n    });\n}\n\nfunction showMovies(data) {\n  main.innerHTML = '';\n\n  data.forEach(movie => {\n    const { title, backdrop_path, vote_average } = movie; \n    const movieEl = document.createElement('div');\n    movieEl.classList.add('movie');\n    movieEl.innerHTML = `\n    <img src=\"${IMG_URL + backdrop_path}\" alt=\"${title}\" width=\"100px\" />\n        <div class=\"movie-info\">\n          <h3 class=\"movie-title\">${title}</h3>\n          <span class=\"${getColor(vote_average)}\">${vote_average}</span>\n          </div>\n    \n    `;\n    main.appendChild(movieEl);\n  });\n}\n\nfunction getColor(vote) {\n  if (vote >= 8) {\n    return 'green';\n  } else if (vote >= 5 && vote < 8) {\n    return 'orange';\n  } else {\n    return 'red';\n  }\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchTerm = search.value;\n  console.log(searchTerm);\n\n  if (searchTerm) {\n    getMovies(searchURL + '&query=' + searchTerm);\n  } else {\n    getMovies(API_URL);\n  }\n});\n"],"names":["$b8f9b7833fa37166$var$API_KEY","$b8f9b7833fa37166$var$API_URL","$b8f9b7833fa37166$var$BASE_URL","$b8f9b7833fa37166$var$IMG_URL","$b8f9b7833fa37166$var$main","document","getElementById","$b8f9b7833fa37166$var$form","querySelector","$b8f9b7833fa37166$var$search","$b8f9b7833fa37166$var$getMovies","url","fetch","then","resp","json","data","innerHTML","forEach","movie","vote","title","backdrop_path","vote_average","movieEl","createElement","classList","add","concat","appendChild","$b8f9b7833fa37166$var$showMovies","results","console","log","value","addEventListener","e","preventDefault","searchTerm","$b8f9b7833fa37166$var$searchURL"],"version":3,"file":"index.36e26be0.js.map"}